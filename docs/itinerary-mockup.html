<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trailfox ‚Äì Linear Trail Navigation</title>
    <style>
        :root {
            --color-background: #f8f6f3;
            --color-surface: #ffffff;
            --color-text-primary: #1a1a1a;
            --color-text-secondary: #666666;
            --color-text-tertiary: #999999;
            --color-accent: #d4714f;
            --color-accent-light: #e8c5b8;
            --color-accent-dark: #a85a3e;
            --color-success: #2d9b6b;
            --color-warning: #d4714f;
            --color-info: #4a90a4;
            --color-border: #e0dcd8;
            --color-tag-bg: #f5f3f1;
            
            --radius-sm: 6px;
            --radius-md: 8px;
            --radius-lg: 12px;
            
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 8px rgba(0,0,0,0.12);
            --shadow-lg: 0 8px 16px rgba(0,0,0,0.15);
            
            --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif;
            --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', monospace;
            
            --spacing-unit: 8px;
            --spacing-2: calc(var(--spacing-unit) * 0.25);
            --spacing-4: calc(var(--spacing-unit) * 0.5);
            --spacing-8: var(--spacing-unit);
            --spacing-12: calc(var(--spacing-unit) * 1.5);
            --spacing-16: calc(var(--spacing-unit) * 2);
            --spacing-20: calc(var(--spacing-unit) * 2.5);
            --spacing-24: calc(var(--spacing-unit) * 3);
            --spacing-32: calc(var(--spacing-unit) * 4);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            font-family: var(--font-family);
            color: var(--color-text-primary);
            background: var(--color-background);
        }
        
        body {
            display: flex;
            overflow: hidden;
        }
        
        /* Main Container */
        .app-container {
            display: flex;
            width: 100%;
            height: 100vh;
            gap: 0;
        }
        
        /* Sidebar Navigation */
        .sidebar {
            width: 280px;
            background: var(--color-surface);
            border-right: 1px solid var(--color-border);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            box-shadow: var(--shadow-sm);
        }
        
        .sidebar-header {
            padding: var(--spacing-20);
            border-bottom: 1px solid var(--color-border);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-dark) 100%);
            color: white;
        }
        
        .logo {
            font-size: 20px;
            font-weight: 700;
            letter-spacing: -0.5px;
            margin-bottom: var(--spacing-4);
        }
        
        .tagline {
            font-size: 12px;
            opacity: 0.9;
            font-weight: 400;
        }
        
        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--spacing-16);
        }
        
        .trail-section-title {
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--color-text-tertiary);
            margin-top: var(--spacing-16);
            margin-bottom: var(--spacing-8);
        }
        
        .trail-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-8);
        }
        
        .trail-item {
            padding: var(--spacing-12) var(--spacing-12);
            background: var(--color-tag-bg);
            border: 1px solid transparent;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 200ms ease;
            font-size: 14px;
            font-weight: 500;
            color: var(--color-text-primary);
        }
        
        .trail-item:hover {
            background: var(--color-accent-light);
            border-color: var(--color-accent);
        }
        
        .trail-item.active {
            background: var(--color-accent);
            color: white;
            border-color: var(--color-accent-dark);
        }
        
        .trail-item-meta {
            font-size: 12px;
            color: var(--color-text-tertiary);
            margin-top: var(--spacing-4);
            font-weight: 400;
        }
        
        .trail-item.active .trail-item-meta {
            color: rgba(255,255,255,0.8);
        }
        
        /* Main Content Area */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        /* Top Header */
        .header {
            background: var(--color-surface);
            border-bottom: 1px solid var(--color-border);
            padding: var(--spacing-16) var(--spacing-20);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-sm);
        }
        
        .header-left {
            flex: 1;
        }
        
        .header-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: var(--spacing-4);
        }
        
        .header-subtitle {
            font-size: 12px;
            color: var(--color-text-tertiary);
            display: flex;
            gap: var(--spacing-8);
        }
        
        .stat {
            display: flex;
            align-items: center;
            gap: var(--spacing-4);
        }
        
        .stat-icon {
            font-size: 14px;
        }
        
        .header-right {
            display: flex;
            gap: var(--spacing-12);
            align-items: center;
        }
        
        /* Controls */
        .filter-controls {
            display: flex;
            gap: var(--spacing-8);
        }
        
        .control-group {
            display: flex;
            gap: var(--spacing-4);
            align-items: center;
        }
        
        .control-label {
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--color-text-tertiary);
            white-space: nowrap;
        }
        
        input[type="range"] {
            width: 80px;
            accent-color: var(--color-accent);
        }
        
        .checkbox-wrapper {
            display: flex;
            gap: var(--spacing-4);
            align-items: center;
            font-size: 13px;
        }
        
        input[type="checkbox"] {
            accent-color: var(--color-accent);
            cursor: pointer;
        }
        
        /* Timeline Container */
        .timeline-container {
            flex: 1;
            display: flex;
            gap: 0;
            overflow: hidden;
        }
        
        /* Vertical Timeline (Left) */
        .vertical-timeline {
            width: 55%;
            background: var(--color-background);
            border-right: 2px solid var(--color-border);
            overflow-y: auto;
            padding: var(--spacing-16);
            display: flex;
            flex-direction: column;
            gap: var(--spacing-12);
        }
        
        .timeline-item {
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-md);
            padding: var(--spacing-16);
            cursor: pointer;
            transition: all 200ms ease;
            display: flex;
            gap: var(--spacing-12);
            position: relative;
            box-shadow: var(--shadow-sm);
        }
        
        .timeline-item:hover {
            box-shadow: var(--shadow-md);
            border-color: var(--color-accent);
        }
        
        .timeline-item.current {
            border: 2px solid var(--color-accent);
            background: linear-gradient(135deg, rgba(212,113,79,0.05) 0%, rgba(212,113,79,0.02) 100%);
        }
        
        .timeline-marker {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-4);
            min-width: 40px;
        }
        
        .marker-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--color-accent);
            border: 2px solid var(--color-surface);
            box-shadow: 0 0 0 2px var(--color-border);
            transition: all 200ms ease;
        }
        
        .timeline-item.current .marker-dot {
            width: 20px;
            height: 20px;
            background: var(--color-accent);
            box-shadow: 0 0 0 3px rgba(212,113,79,0.3);
        }
        
        .marker-line {
            flex: 1;
            width: 2px;
            background: var(--color-border);
            min-height: 40px;
        }
        
        .timeline-item.current .marker-line {
            background: var(--color-accent);
        }
        
        .timeline-content {
            flex: 1;
            min-width: 0;
        }
        
        .stop-title {
            font-size: 15px;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: var(--spacing-4);
        }
        
        .stop-location {
            font-size: 13px;
            color: var(--color-text-secondary);
            margin-bottom: var(--spacing-8);
            display: flex;
            gap: var(--spacing-8);
        }
        
        .amenity-icons {
            display: flex;
            gap: var(--spacing-6);
            flex-wrap: wrap;
        }
        
        .amenity-tag {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-4);
            background: var(--color-tag-bg);
            padding: var(--spacing-4) var(--spacing-8);
            border-radius: var(--radius-sm);
            font-size: 12px;
            font-weight: 500;
            color: var(--color-text-secondary);
            border: 1px solid var(--color-border);
        }
        
        .amenity-icon {
            font-size: 14px;
        }
        
        .current-marker {
            text-align: center;
            padding: var(--spacing-20);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-dark) 100%);
            color: white;
            border-radius: var(--radius-md);
            margin-bottom: var(--spacing-16);
            font-weight: 600;
        }
        
        /* Map Container (Right) */
        .map-container {
            width: 45%;
            background: #e8e6e0;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .map-frame {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #e8e6e0 0%, #d9d5ce 100%);
            position: relative;
            overflow: hidden;
        }
        
        .map-illustration {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            color: rgba(0,0,0,0.1);
            position: relative;
        }
        
        .map-svg {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .map-info {
            background: var(--color-surface);
            border-top: 1px solid var(--color-border);
            padding: var(--spacing-16);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .map-info-text {
            font-size: 13px;
            color: var(--color-text-secondary);
        }
        
        .map-link-btn {
            padding: var(--spacing-8) var(--spacing-16);
            background: var(--color-accent);
            color: white;
            border: none;
            border-radius: var(--radius-sm);
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 200ms ease;
        }
        
        .map-link-btn:hover {
            background: var(--color-accent-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--color-border);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--color-text-tertiary);
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .app-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--color-border);
                max-height: 200px;
            }
            
            .sidebar-content {
                flex-direction: row;
                overflow-x: auto;
                display: flex;
                gap: var(--spacing-16);
            }
            
            .trail-section-title {
                display: none;
            }
            
            .trail-list {
                flex-direction: row;
                min-width: 100%;
            }
            
            .trail-item {
                min-width: 180px;
                flex-shrink: 0;
            }
            
            .timeline-container {
                flex-direction: column;
                width: 100%;
            }
            
            .vertical-timeline {
                width: 100%;
                border-right: none;
                border-bottom: 2px solid var(--color-border);
                max-height: 50%;
            }
            
            .map-container {
                width: 100%;
                min-height: 50%;
            }
        }
        
        @media (max-width: 768px) {
            .sidebar {
                max-height: 150px;
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-12);
            }
            
            .filter-controls {
                width: 100%;
                flex-wrap: wrap;
                gap: var(--spacing-12);
            }
            
            .vertical-timeline {
                padding: var(--spacing-12);
            }
            
            .timeline-item {
                padding: var(--spacing-12);
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">ü¶ä Trailfox</div>
                <div class="tagline">Linear Trail Navigation</div>
            </div>
            <div class="sidebar-content">
                <div class="trail-section-title">Featured Trails</div>
                <div class="trail-list" id="trailList">
                    <div class="trail-item active" data-trail="camino">
                        <div>Camino de Santiago</div>
                        <div class="trail-item-meta">Spain ‚Ä¢ 779 km</div>
                    </div>
                    <div class="trail-item" data-trail="tjv">
                        <div>Tour du Mont Blanc</div>
                        <div class="trail-item-meta">Alps ‚Ä¢ 170 km</div>
                    </div>
                    <div class="trail-item" data-trail="appalachian">
                        <div>Appalachian Trail</div>
                        <div class="trail-item-meta">USA ‚Ä¢ 3,495 km</div>
                    </div>
                    <div class="trail-item" data-trail="snowman">
                        <div>Snowman Trek</div>
                        <div class="trail-item-meta">Bhutan ‚Ä¢ 370 km</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="header-left">
                    <div class="header-title" id="trailName">Camino de Santiago</div>
                    <div class="header-subtitle">
                        <span class="stat">
                            <span class="stat-icon">üìç</span>
                            <span>Stage 10</span>
                        </span>
                        <span class="stat">
                            <span class="stat-icon">üìè</span>
                            <span id="stageLength">22.3 km</span>
                        </span>
                        <span class="stat">
                            <span class="stat-icon">üìà</span>
                            <span>+480 m</span>
                        </span>
                    </div>
                </div>
                <div class="header-right">
                    <div class="filter-controls">
                        <div class="control-group">
                            <label class="control-label">Max Distance</label>
                            <input type="range" id="maxDistance" min="1" max="5" value="1" step="0.5">
                            <span id="distanceValue">1 km</span>
                        </div>
                        <div class="control-group">
                            <label class="checkbox-wrapper">
                                <input type="checkbox" id="showFood" checked>
                                Food
                            </label>
                            <label class="checkbox-wrapper">
                                <input type="checkbox" id="showAccommodation" checked>
                                Sleep
                            </label>
                            <label class="checkbox-wrapper">
                                <input type="checkbox" id="showWater" checked>
                                Water
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Timeline & Map -->
            <div class="timeline-container">
                <!-- Vertical Timeline -->
                <div class="vertical-timeline" id="timeline">
                    <div class="current-marker">
                        üìç You are here<br>
                        <span style="font-size: 14px; font-weight: 400;">12.3 km from start</span>
                    </div>
                </div>
                
                <!-- Map -->
                <div class="map-container">
                    <div class="map-frame">
                        <svg class="map-svg" viewBox="0 0 400 500" xmlns="http://www.w3.org/2000/svg">
                            <!-- Trail line -->
                            <path d="M 200 50 Q 180 150 200 250 Q 220 350 200 450" stroke="#d4714f" stroke-width="3" fill="none" stroke-linecap="round"/>
                            
                            <!-- Waypoints -->
                            <circle cx="200" cy="50" r="6" fill="#d4714f"/>
                            <circle cx="180" cy="150" r="5" fill="#2d9b6b"/>
                            <circle cx="200" cy="250" r="5" fill="#4a90a4"/>
                            <circle cx="220" cy="350" r="5" fill="#d4714f"/>
                            <circle cx="200" cy="450" r="6" fill="#333"/>
                            
                            <!-- Start/End labels -->
                            <text x="200" y="35" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">Start</text>
                            <text x="200" y="475" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">Today's End</text>
                            
                            <!-- Legend -->
                            <text x="20" y="480" font-size="11" fill="#999">üü• Current  üü¢ Water  üîµ Food  üü† Camp</text>
                        </svg>
                    </div>
                    <div class="map-info">
                        <span class="map-info-text">Tap a stop to see full details or open in external map</span>
                        <button class="map-link-btn">üó∫ View Full Map</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Sample trail data
        const trails = {
            camino: {
                name: 'Camino de Santiago',
                stage: 'Stage 10 ‚Äì Castrojeriz ‚Üí Fr√≥mista',
                length: '22.3 km',
                elevation: '+480 m',
                stops: [
                    { km: 0, name: 'Castrojeriz', icon: 'üèòÔ∏è', amenities: ['accommodation', 'food', 'water'], count: 12 },
                    { km: 3.2, name: 'Water Spring', icon: 'üíß', amenities: ['water'], count: 1 },
                    { km: 7.8, name: 'Caf√© El Camino', icon: '‚òï', amenities: ['food'], count: 1 },
                    { km: 12.3, name: 'Current Location', icon: 'üìç', amenities: [], count: 0, current: true },
                    { km: 15.5, name: 'Boadilla del Camino', icon: 'üèòÔ∏è', amenities: ['accommodation', 'food'], count: 8 },
                    { km: 19.1, name: 'Well + Shelter', icon: 'üõñ', amenities: ['water', 'shelter'], count: 1 },
                    { km: 22.3, name: 'Fr√≥mista', icon: 'üèòÔ∏è', amenities: ['accommodation', 'food', 'water', 'services'], count: 15 }
                ]
            },
            tjv: {
                name: 'Tour du Mont Blanc',
                stage: 'Stage 5',
                length: '20.1 km',
                elevation: '+1200 m',
                stops: [
                    { km: 0, name: 'Chamonix', icon: 'üèîÔ∏è', amenities: ['accommodation', 'food'], count: 20 },
                    { km: 8.5, name: 'Refuge', icon: 'üõñ', amenities: ['accommodation', 'food', 'water'], count: 2 },
                    { km: 12.3, name: 'Current', icon: 'üìç', amenities: [], current: true },
                    { km: 16.2, name: 'Col du Bonhomme', icon: '‚õ∞Ô∏è', amenities: ['water'], count: 1 },
                    { km: 20.1, name: 'Les Contamines', icon: 'üèòÔ∏è', amenities: ['accommodation', 'food'], count: 12 }
                ]
            },
            appalachian: {
                name: 'Appalachian Trail',
                stage: 'Stage 7',
                length: '25.7 km',
                elevation: '+650 m',
                stops: [
                    { km: 0, name: 'Springer Shelter', icon: 'üõñ', amenities: ['water'], count: 1 },
                    { km: 6.3, name: 'Water Crossing', icon: 'üíß', amenities: ['water'], count: 1 },
                    { km: 12.5, name: 'You are here', icon: 'üìç', amenities: [], current: true },
                    { km: 18.2, name: 'Trail Town Junction', icon: 'üèòÔ∏è', amenities: ['accommodation', 'food', 'water'], count: 10 },
                    { km: 25.7, name: 'Hawk Mountain', icon: '‚õ∞Ô∏è', amenities: [], count: 0 }
                ]
            },
            snowman: {
                name: 'Snowman Trek',
                stage: 'Stage 8',
                length: '16.8 km',
                elevation: '+800 m',
                stops: [
                    { km: 0, name: 'Phobjikha Valley', icon: 'üèòÔ∏è', amenities: ['accommodation', 'food', 'water'], count: 5 },
                    { km: 5.2, name: 'Mountain Spring', icon: 'üíß', amenities: ['water'], count: 1 },
                    { km: 9.4, name: 'Your location', icon: 'üìç', amenities: [], current: true },
                    { km: 13.5, name: 'High Altitude Camp', icon: '‚õ∫', amenities: ['water'], count: 1 },
                    { km: 16.8, name: 'Jile Dzong View', icon: 'üèîÔ∏è', amenities: [], count: 0 }
                ]
            }
        };
        
        // Initialize
        function renderTrail(trailId) {
            const trail = trails[trailId];
            document.getElementById('trailName').textContent = trail.name;
            document.getElementById('stageLength').textContent = trail.length;
            
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '<div class="current-marker">üìç You are here<br><span style="font-size: 14px; font-weight: 400;">12.3 km from start</span></div>';
            
            trail.stops.forEach((stop, idx) => {
                const item = document.createElement('div');
                item.className = `timeline-item ${stop.current ? 'current' : ''}`;
                
                const amenityIcons = {
                    accommodation: 'üè®',
                    food: 'üçΩÔ∏è',
                    water: 'üíß',
                    services: 'üè™',
                    shelter: 'üõñ'
                };
                
                let amenityHTML = '';
                if (stop.amenities.length > 0) {
                    amenityHTML = stop.amenities.map(a => 
                        `<span class="amenity-tag"><span class="amenity-icon">${amenityIcons[a]}</span>${a}</span>`
                    ).join('');
                }
                
                item.innerHTML = `
                    <div class="timeline-marker">
                        <div class="marker-dot"></div>
                        <div class="marker-line"></div>
                    </div>
                    <div class="timeline-content">
                        <div class="stop-title">${stop.name}</div>
                        <div class="stop-location">
                            <span>${stop.km} km from start</span>
                            <span>‚Ä¢</span>
                            <span>${Math.abs(12.3 - stop.km).toFixed(1)} km away</span>
                        </div>
                        <div class="amenity-icons">
                            ${amenityHTML || '<span style="color: var(--color-text-tertiary); font-size: 12px;">No amenities</span>'}
                        </div>
                    </div>
                `;
                
                timeline.appendChild(item);
                
                item.addEventListener('click', () => {
                    alert(`Details for ${stop.name}\n\nPosition: ${stop.km} km\n\nTap here to open in Google Maps, Apple Maps, or Organic Maps for full context.`);
                });
            });
        }
        
        // Trail selection
        document.querySelectorAll('.trail-item').forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll('.trail-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                const trailId = item.dataset.trail;
                renderTrail(trailId);
            });
        });
        
        // Filter controls
        document.getElementById('maxDistance').addEventListener('input', (e) => {
            document.getElementById('distanceValue').textContent = e.target.value + ' km';
        });
        
        // Initialize with first trail
        renderTrail('camino');
    </script>
</body>
</html>
